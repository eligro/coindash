import React, { Component } from 'react'
import Card from 'osi/components/card/card.react'
import StocksChart from '../../../../../components/common/charts/stocks/StocksChart.react'
import StocksChartRisk from '../../../../../components/common/charts/stocks/StocksChartRisk.react'
import AssetAllocationChart from '../../../../../components/common/charts/stocks/AssetAllocationChart.react'
import ChartNavigation from '../../../../../components/pages/dashboard/ChartNavigation.react'

class ChartsCard extends Component {
  constructor (props, context) {
    super(props, context)
    this.state = { selectedChart: 1, showError: true, showAddToken: false, token: { address: '', symbol: '', decimal: '', ico_contract_address: '' } }
  }
  render () {
    return (
      <Card className='charts'>
        <div className='chart-cont card'>
          <ChartNavigation handleSelectCB={this.chartSelected} statusText={this.props.statusText} handleRefreshCB={this.props.refreshChart} />
          {this.state.selectedChart === 1 &&
              this.props.chartData &&
              this.props.portfolioDayDataByDate &&
              this.props.exchanges &&
              <StocksChart chartData={this.props.chartData} dayDataByDate={this.props.portfolioDayDataByDate} exchanges={this.props.exchanges} />}
          {this.state.selectedChart === 2 && <StocksChartRisk />}
          {this.state.selectedChart === 3 && <AssetAllocationChart balances={this.props.balances} />}
        </div>
      </Card>
    )
  }
}

export default ChartsCard
