import React from 'react'
import { Route, IndexRoute, Redirect } from 'react-router'

import { requireAuth } from 'osi/auth'

import App from './app/app.react'
import AppWrap from './app/app-wrap.react'
import Dashboard from './pages/dashboard/dashboard.react'
import AccountPage from './pages/account/AccountPage.react'
import TokensPage from './pages/tokens/tokens.react'
import Home from './pages/home/home.react'
import Login from './pages/login/login.react'
import ResetPassword from './pages/login/reset-password'

export default (
  <Route path='/' component={AppWrap}>
    <IndexRoute component={Home} />
    <Route path='/dashboard' component={App} onEnter={requireAuth}>
      <IndexRoute component={Dashboard} />
      <Route path='accounts' component={AccountPage} />
      <Route path='tokens' component={TokensPage} />
    </Route>
    <Route path='/login'>
      <IndexRoute component={Login} />
      <Route path='reset-password' component={ResetPassword} />
    </Route>
    <Redirect from='*' to='/' />
  </Route>
)
